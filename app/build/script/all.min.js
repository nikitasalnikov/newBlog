const navLink = document.querySelectorAll('.header__nav-link'),
      headerBtn = document.querySelector('.header__btn'),
      headerList = document.querySelector('.header__nav-list'),
      headerAbs = document.querySelector('.header__abs'); // for(let i = 0; i < navLink.length; i++){
//     navLink[i].addEventListener('click', (e) => {
//        e.preventDefault()
//         let page = navLink[i].getAttribute('data-page')
//         for(let j = 0; j< navLink.length; j++){
//             navLink[j].classList.remove('active')
//         }
//         navLink[i].classList.add('active')
//         window.location.href = e.target.getAttribute('hredf')
//     })
// }

headerBtn.addEventListener('click', function (e) {
  e.preventDefault();
  document.body.classList.toggle('hidden');
  this.classList.toggle('active');
  headerList.classList.toggle('active');
  headerAbs.classList.toggle('active');
});
headerAbs.addEventListener('click', function () {
  document.body.classList.remove('hidden');
  this.classList.remove('active');
  headerList.classList.remove('active');
  headerBtn.classList.toggle('active');
});
navLink.forEach(item => {
  let page = item.getAttribute('data-page');

  if (document.body.classList.contains(page)) {
    item.classList.add('active');
  }
});

try {
  const recentImg = [...document.querySelectorAll('.recent__left-item')];
  recentCube = [...document.querySelectorAll('.recent__pers-cube:not(.last')];
  recentNext = document.querySelector('.recent__next');
  recent = document.querySelector('.recent');

  for (let i = 0; i < recentCube.length; i++) {
    recentCube[i].closest('.recent__pers ').style.zIndex = 20 - i;
    recentCube[i].addEventListener('click', function (e) {
      e.preventDefault();
      removeActive();
      this.classList.add('active');
      recentImg[i].classList.add('active');
    });
  }

  function removeActive() {
    for (let i = 0; i < recentCube.length; i++) {
      recentCube[i].classList.remove('active');
      recentImg[i].classList.remove('active');
    }
  }

  recentNext.addEventListener('click', function (e) {
    e.preventDefault();
    let active = recentCube.findIndex(item => item.classList.contains('active'));
    active++;

    if (active == recentCube.length) {
      active = 0;
    }

    removeActive();
    recentCube[active].classList.add('active');
    recentImg[active].classList.add('active');
  });
} catch (error) {}

try {
  class Slider {
    constructor(obj) {
      this.sliderMain = document.querySelector(obj.sliderMain);
      this.slider = document.querySelector(obj.slider);
      this.sliderItems = this.slider.querySelector(obj.sliderItems);
      this.slides = [...this.sliderItems.children];
      this.next = this.slider.querySelector(obj.next);
      this.prev = this.slider.querySelector(obj.prev);
      this.activeSlide = 0;
      this.width = this.slider.clientWidth;
      this.height = this.slider.clientHeight;
      this.direction = obj.direction.toUpperCase() == 'X' ? 'X' : 'Y';
      this.moveSize = this.direction == 'X' ? this.width : this.height;
      this.sliderItems.style = `
                overflow: hidden;
                height: ${this.height}px;
            `;

      for (let i = 0; i < this.slides.length; i++) {
        this.slides[i].style = `
                    position: absolute;
                    height: ${this.height}px;
                    width: ${this.width}px;
                    overflow: hidden;
                `;

        if (i != this.activeSlide) {
          this.slides[i].style.transform = `translate${this.direction}(${this.moveSize}px)`;
        }

        if (i === this.slides.length - 1) {
          this.slides[i].style.transform = `translate${this.direction}(${-this.moveSize}px)`;
        }
      }

      this.prev.addEventListener('click', () => this.move(this.prev));
      this.next.addEventListener('click', () => this.move(this.next));
    }

    move(btn) {
      let prevOrNext = btn == this.next ? this.moveSize * -1 : this.moveSize;
      this.slides.forEach((slide, i) => {
        slide.style.transition = '0ms';

        if (i != this.activeSlide) {
          slide.style.transform = `translate${this.direction}(${prevOrNext * -1}px)`;
        }
      });
      this.slides[this.activeSlide].style.transform = `translate${this.direction}(${prevOrNext}px)`;
      this.slides[this.activeSlide].style.transition = '1000ms';

      if (btn == this.next) {
        this.activeSlide++;

        if (this.activeSlide >= this.slides.length) {
          this.activeSlide = 0;
        }
      } else if (btn == this.prev) {
        this.activeSlide--;

        if (this.activeSlide < 0) {
          this.activeSlide = this.slides.length - 1;
        }
      }

      this.slides[this.activeSlide].style.transform = `translate${this.direction}(0px)`;
      this.slides[this.activeSlide].style.transition = '1000ms';
    }

  }

  const slider = new Slider({
    slider: '.slider',
    sliderMain: '.slider__main',
    sliderItems: '.slider__items',
    next: '.slider__next',
    prev: '.slider__prev',
    direction: 'X'
  });
} catch (error) {}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdi5qcyIsInJlY2VudC5qcyIsInNsaWRlci5qcyJdLCJuYW1lcyI6WyJuYXZMaW5rIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGVhZGVyQnRuIiwicXVlcnlTZWxlY3RvciIsImhlYWRlckxpc3QiLCJoZWFkZXJBYnMiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYm9keSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImZvckVhY2giLCJpdGVtIiwicGFnZSIsImdldEF0dHJpYnV0ZSIsImNvbnRhaW5zIiwiYWRkIiwicmVjZW50SW1nIiwicmVjZW50Q3ViZSIsInJlY2VudE5leHQiLCJyZWNlbnQiLCJpIiwibGVuZ3RoIiwiY2xvc2VzdCIsInN0eWxlIiwiekluZGV4IiwicmVtb3ZlQWN0aXZlIiwiYWN0aXZlIiwiZmluZEluZGV4IiwiZXJyb3IiLCJTbGlkZXIiLCJjb25zdHJ1Y3RvciIsIm9iaiIsInNsaWRlck1haW4iLCJzbGlkZXIiLCJzbGlkZXJJdGVtcyIsInNsaWRlcyIsImNoaWxkcmVuIiwibmV4dCIsInByZXYiLCJhY3RpdmVTbGlkZSIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJkaXJlY3Rpb24iLCJ0b1VwcGVyQ2FzZSIsIm1vdmVTaXplIiwidHJhbnNmb3JtIiwibW92ZSIsImJ0biIsInByZXZPck5leHQiLCJzbGlkZSIsInRyYW5zaXRpb24iXSwibWFwcGluZ3MiOiJBQUFBLE1BQUFBLE9BQUEsR0FBQUMsUUFBQSxDQUFBQyxnQkFBQSxDQUFBLG1CQUFBLENBQUE7QUFBQSxNQUNBQyxTQUFBLEdBQUFGLFFBQUEsQ0FBQUcsYUFBQSxDQUFBLGNBQUEsQ0FEQTtBQUFBLE1BRUFDLFVBQUEsR0FBQUosUUFBQSxDQUFBRyxhQUFBLENBQUEsbUJBQUEsQ0FGQTtBQUFBLE1BR0FFLFNBQUEsR0FBQUwsUUFBQSxDQUFBRyxhQUFBLENBQUEsY0FB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LEdBQUEsQ0FBQSxFQUFBO0FBQ0EsZUFBQUEsV0FBQSxHQUFBLEtBQUFKLE1BQUEsQ0FBQWQsTUFBQSxHQUFBLENBQUE7QUFDQTtBQUNBOztBQUVBLFdBQUFjLE1BQUEsQ0FBQSxLQUFBSSxXQUFBLEVBQUFoQixLQUFBLENBQUF3QixTQUFBLEdBQUEsWUFBQSxLQUFBSCxTQUFBLE9BQUE7QUFDQSxXQUFBVCxNQUFBLENBQUEsS0FBQUksV0FBQSxFQUFBaEIsS0FBQSxDQUFBNkIsVUFBQSxHQUFBLFFBQUE7QUFDQTs7QUExRUE7O0FBOEVBLFFBQUFuQixNQUFBLEdBQUEsSUFBQUosTUFBQSxDQUFBO0FBQ0FJLElBQUFBLE1BQUEsRUFBQSxTQURBO0FBRUFELElBQUFBLFVBQUEsRUFBQSxlQUZBO0FBR0FFLElBQUFBLFdBQUEsRUFBQSxnQkFIQTtBQUlBRyxJQUFBQSxJQUFBLEVBQUEsZUFKQTtBQUtBQyxJQUFBQSxJQUFBLEVBQUEsZUFMQTtBQU1BTSxJQUFBQSxTQUFBLEVBQUE7QUFOQSxHQUFBLENBQUE7QUFRQSxDQXZGQSxDQXVGQSxPQUFBaEIsS0FBQSxFQUFBLENBRUEiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG5hdkxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19uYXYtbGluaycpLFxyXG5oZWFkZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idG4nKSxcclxuaGVhZGVyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX25hdi1saXN0JyksXHJcbmhlYWRlckFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2FicycpXHJcblxyXG4vLyBmb3IobGV0IGkgPSAwOyBpIDwgbmF2TGluay5sZW5ndGg7IGkrKyl7XHJcbi8vICAgICBuYXZMaW5rW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuLy8gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4vLyAgICAgICAgIGxldCBwYWdlID0gbmF2TGlua1tpXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFnZScpXHJcbi8vICAgICAgICAgZm9yKGxldCBqID0gMDsgajwgbmF2TGluay5sZW5ndGg7IGorKyl7XHJcbi8vICAgICAgICAgICAgIG5hdkxpbmtbal0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgICAgbmF2TGlua1tpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4vLyAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdocmVkZicpXHJcbiAgICAgICBcclxuLy8gICAgIH0pXHJcbi8vIH1cclxuXHJcbmhlYWRlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24gKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICBoZWFkZXJMaXN0LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgaGVhZGVyQWJzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG59KVxyXG5oZWFkZXJBYnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIGhlYWRlckxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICBoZWFkZXJCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbn0pXHJcbm5hdkxpbmsuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGxldCBwYWdlID0gaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFnZScpXHJcbiAgICBpZihkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhwYWdlKSl7XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgfVxyXG59KVxyXG4iLCJ0cnkge1xyXG4gICAgY29uc3QgcmVjZW50SW1nID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZWNlbnRfX2xlZnQtaXRlbScpXVxyXG4gICAgIHJlY2VudEN1YmUgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlY2VudF9fcGVycy1jdWJlOm5vdCgubGFzdCcpXVxyXG4gICAgIHJlY2VudE5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjZW50X19uZXh0JylcclxuICAgICByZWNlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjZW50Jyk7XHJcbiAgICAgXHJcbiAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNlbnRDdWJlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgIHJlY2VudEN1YmVbaV0uY2xvc2VzdCgnLnJlY2VudF9fcGVycyAnKS5zdHlsZS56SW5kZXggPSAyMC0gaTtcclxuICAgICAgICAgcmVjZW50Q3ViZVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICByZW1vdmVBY3RpdmUoKVxyXG4gICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgcmVjZW50SW1nW2ldLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgIH0pXHJcbiAgICAgfVxyXG4gICAgIGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZSgpIHtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmVjZW50Q3ViZS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHJlY2VudEN1YmVbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgcmVjZW50SW1nW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgfVxyXG4gICAgIH1cclxuICAgICBcclxuICAgICByZWNlbnROZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICBsZXQgYWN0aXZlID0gcmVjZW50Q3ViZS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpO1xyXG4gICAgICAgICBhY3RpdmUrK1xyXG4gICAgICAgICBpZihhY3RpdmUgPT0gcmVjZW50Q3ViZS5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgYWN0aXZlID0gMDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICByZW1vdmVBY3RpdmUoKVxyXG4gICAgICAgICBcclxuICAgICAgICAgcmVjZW50Q3ViZVthY3RpdmVdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgIHJlY2VudEltZ1thY3RpdmVdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgfSlcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFxyXG59IiwidHJ5IHtcclxuICAgIGNsYXNzIFNsaWRlciB7XHJcbiAgICAgICAgY29uc3RydWN0b3Iob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyTWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2JqLnNsaWRlck1haW4pXHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvYmouc2xpZGVyKTtcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXJJdGVtcyA9IHRoaXMuc2xpZGVyLnF1ZXJ5U2VsZWN0b3Iob2JqLnNsaWRlckl0ZW1zKTtcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXMgPSBbLi4udGhpcy5zbGlkZXJJdGVtcy5jaGlsZHJlbl07XHJcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IHRoaXMuc2xpZGVyLnF1ZXJ5U2VsZWN0b3Iob2JqLm5leHQpO1xyXG4gICAgICAgICAgICB0aGlzLnByZXYgPSB0aGlzLnNsaWRlci5xdWVyeVNlbGVjdG9yKG9iai5wcmV2KTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVNsaWRlID0gMDtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5zbGlkZXIuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zbGlkZXIuY2xpZW50SGVpZ2h0O1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gb2JqLmRpcmVjdGlvbi50b1VwcGVyQ2FzZSgpID09ICdYJyA/ICdYJyA6ICdZJztcclxuICAgICAgICAgICAgdGhpcy5tb3ZlU2l6ZSA9IHRoaXMuZGlyZWN0aW9uID09ICdYJyA/IHRoaXMud2lkdGggOiB0aGlzLmhlaWdodDtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnNsaWRlckl0ZW1zLnN0eWxlID0gYFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJHt0aGlzLmhlaWdodH1weDtcclxuICAgICAgICAgICAgYFxyXG4gICAgXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXNbaV0uc3R5bGUgPSBgXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJHt0aGlzLmhlaWdodH1weDtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJHt0aGlzLndpZHRofXB4O1xyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICBgXHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoaSAhPSB0aGlzLmFjdGl2ZVNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGlkZXNbaV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSR7dGhpcy5kaXJlY3Rpb259KCR7dGhpcy5tb3ZlU2l6ZX1weClgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZihpID09PSB0aGlzLnNsaWRlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbGlkZXNbaV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSR7dGhpcy5kaXJlY3Rpb259KCR7LXRoaXMubW92ZVNpemV9cHgpYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMucHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubW92ZSh0aGlzLnByZXYpKVxyXG4gICAgICAgICAgICB0aGlzLm5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLm1vdmUodGhpcy5uZXh0KSlcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBtb3ZlKGJ0bikge1xyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBwcmV2T3JOZXh0ID0gYnRuID09IHRoaXMubmV4dCA/IHRoaXMubW92ZVNpemUgKiAtMSA6IHRoaXMubW92ZVNpemU7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXMuZm9yRWFjaCgoc2xpZGUsIGkpID0+IHtcclxuICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zaXRpb24gPSAnMG1zJztcclxuICAgICAgICAgICAgICAgIGlmKGkgIT0gdGhpcy5hY3RpdmVTbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUke3RoaXMuZGlyZWN0aW9ufSgke3ByZXZPck5leHQgKiAtMX1weClgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlU2xpZGVdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUke3RoaXMuZGlyZWN0aW9ufSgke3ByZXZPck5leHR9cHgpYDtcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5hY3RpdmVTbGlkZV0uc3R5bGUudHJhbnNpdGlvbiA9ICcxMDAwbXMnO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgaWYoYnRuID09IHRoaXMubmV4dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTbGlkZSsrXHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5hY3RpdmVTbGlkZSA+PSB0aGlzLnNsaWRlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNsaWRlID0gMFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihidG4gPT0gdGhpcy5wcmV2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNsaWRlLS1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYWN0aXZlU2xpZGUgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTbGlkZSA9IHRoaXMuc2xpZGVzLmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlU2xpZGVdLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUke3RoaXMuZGlyZWN0aW9ufSgwcHgpYDtcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5hY3RpdmVTbGlkZV0uc3R5bGUudHJhbnNpdGlvbiA9ICcxMDAwbXMnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICBjb25zdCBzbGlkZXIgPSBuZXcgU2xpZGVyKHtcclxuICAgICAgICBzbGlkZXI6ICcuc2xpZGVyJyxcclxuICAgICAgICBzbGlkZXJNYWluOiAnLnNsaWRlcl9fbWFpbicsXHJcbiAgICAgICAgc2xpZGVySXRlbXM6ICcuc2xpZGVyX19pdGVtcycsXHJcbiAgICAgICAgbmV4dDogJy5zbGlkZXJfX25leHQnLFxyXG4gICAgICAgIHByZXY6ICcuc2xpZGVyX19wcmV2JyxcclxuICAgICAgICBkaXJlY3Rpb246ICdYJ1xyXG4gICAgfSlcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIFxyXG59Il19
