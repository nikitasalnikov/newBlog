const navLink = document.querySelectorAll('.header__nav-link'),
      headerBtn = document.querySelector('.header__btn'),
      headerList = document.querySelector('.header__nav-list'),
      headerAbs = document.querySelector('.header__abs'),
      bars = document.querySelector('.bars'); // for(let i = 0; i < navLink.length; i++){
//     navLink[i].addEventListener('click', (e) => {
//        e.preventDefault()
//         let page = navLink[i].getAttribute('data-page')
//         for(let j = 0; j< navLink.length; j++){
//             navLink[j].classList.remove('active')
//         }
//         navLink[i].classList.add('active')
//         window.location.href = e.target.getAttribute('hredf')
//     })
// }

headerBtn.addEventListener('click', function (e) {
  e.preventDefault();
  document.body.classList.toggle('hidden');
  this.classList.toggle('active');
  headerList.classList.toggle('active');
  bars.classList.toggle('active');
  headerAbs.classList.toggle('active');
});
headerAbs.addEventListener('click', function () {
  document.body.classList.remove('hidden');
  this.classList.remove('active');
  headerList.classList.remove('active');
  headerBtn.classList.remove('active');
  bars.classList.remove('active');
});
navLink.forEach(item => {
  let page = item.getAttribute('data-page');

  if (document.body.classList.contains(page)) {
    item.classList.add('active');
  }
});

try {
  const recentImg = [...document.querySelectorAll('.recent__left-item')];
  recentCube = [...document.querySelectorAll('.recent__pers-cube:not(.last')];
  recentNext = document.querySelector('.recent__next');
  recent = document.querySelector('.recent');

  for (let i = 0; i < recentCube.length; i++) {
    recentCube[i].closest('.recent__pers ').style.zIndex = 20 - i;
    recentCube[i].addEventListener('click', function (e) {
      e.preventDefault();
      removeActive();
      this.classList.add('active');
      recentImg[i].classList.add('active');
    });
  }

  function removeActive() {
    for (let i = 0; i < recentCube.length; i++) {
      recentCube[i].classList.remove('active');
      recentImg[i].classList.remove('active');
    }
  }

  recentNext.addEventListener('click', function (e) {
    e.preventDefault();
    let active = recentCube.findIndex(item => item.classList.contains('active'));
    active++;

    if (active == recentCube.length) {
      active = 0;
    }

    removeActive();
    recentCube[active].classList.add('active');
    recentImg[active].classList.add('active');
  });
} catch (error) {}

try {
  class Slider {
    constructor(obj) {
      this.sliderMain = document.querySelector(obj.sliderMain);
      this.slider = document.querySelector(obj.slider);
      this.sliderItems = this.slider.querySelector(obj.sliderItems);
      this.slides = [...this.sliderItems.children];
      this.next = this.slider.querySelector(obj.next);
      this.prev = this.slider.querySelector(obj.prev);
      this.activeSlide = 0;
      this.width = this.slider.clientWidth;
      this.height = this.slider.clientHeight;
      this.direction = obj.direction.toUpperCase() == 'X' ? 'X' : 'Y';
      this.moveSize = this.direction == 'X' ? this.width : this.height;
      this.sliderItems.style = `
                overflow: hidden;
                height: ${this.height}px;
            `;

      for (let i = 0; i < this.slides.length; i++) {
        this.slides[i].style = `
                    position: absolute;
                    height: ${this.height}px;
                    width: ${this.width}px;
                    overflow: hidden;
                `;

        if (i != this.activeSlide) {
          this.slides[i].style.transform = `translate${this.direction}(${this.moveSize}px)`;
        }

        if (i === this.slides.length - 1) {
          this.slides[i].style.transform = `translate${this.direction}(${-this.moveSize}px)`;
        }
      }

      this.prev.addEventListener('click', () => this.move(this.prev));
      this.next.addEventListener('click', () => this.move(this.next));
    }

    move(btn) {
      let prevOrNext = btn == this.next ? this.moveSize * -1 : this.moveSize;
      this.slides.forEach((slide, i) => {
        slide.style.transition = '0ms';

        if (i != this.activeSlide) {
          slide.style.transform = `translate${this.direction}(${prevOrNext * -1}px)`;
        }
      });
      this.slides[this.activeSlide].style.transform = `translate${this.direction}(${prevOrNext}px)`;
      this.slides[this.activeSlide].style.transition = '1000ms';

      if (btn == this.next) {
        this.activeSlide++;

        if (this.activeSlide >= this.slides.length) {
          this.activeSlide = 0;
        }
      } else if (btn == this.prev) {
        this.activeSlide--;

        if (this.activeSlide < 0) {
          this.activeSlide = this.slides.length - 1;
        }
      }

      this.slides[this.activeSlide].style.transform = `translate${this.direction}(0px)`;
      this.slides[this.activeSlide].style.transition = '1000ms';
    }

  }

  const slider = new Slider({
    slider: '.slider',
    sliderMain: '.slider__main',
    sliderItems: '.slider__items',
    next: '.slider__next',
    prev: '.slider__prev',
    direction: 'X'
  });
} catch (error) {}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdi5qcyIsInJlY2VudC5qcyIsInNsaWRlci5qcyJdLCJuYW1lcyI6WyJuYXZMaW5rIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGVhZGVyQnRuIiwicXVlcnlTZWxlY3RvciIsImhlYWRlckxpc3QiLCJoZWFkZXJBYnMiLCJiYXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImJvZHkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJmb3JFYWNoIiwiaXRlbSIsInBhZ2UiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWlucyIsImFkZCIsInJlY2VudEltZyIsInJlY2VudEN1YmUiLCJyZWNlbnROZXh0IiwicmVjZW50IiwiaSIsImxlbmd0aCIsImNsb3Nlc3QiLCJzdHlsZSIsInpJbmRleCIsInJlbW92ZUFjdGl2ZSIsImFjdGl2ZSIsImZpbmRJbmRleCIsImVycm9yIiwiU2xpZGVyIiwiY29uc3RydWN0b3IiLCJvYmoiLCJzbGlkZXJNYWluIiwic2xpZGVyIiwic2xpZGVySXRlbXMiLCJzbGlkZXMiLCJjaGlsZHJlbiIsIm5leHQiLCJwcmV2IiwiYWN0aXZlU2xpZGUiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZGlyZWN0aW9uIiwidG9VcHBlckNhc2UiLCJtb3ZlU2l6ZSIsInRyYW5zZm9ybSIsIm1vdmUiLCJidG4iLCJwcmV2T3JOZXh0Iiwic2xpZGUiLCJ0cmFuc2l0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBQSxPQUFBLEdBQUFDLFFBQUEsQ0FBQUMsZ0JBQUEsQ0FBQSxtQkFBQSxDQUFBO0FBQUEsTUFDQUMsU0FBQSxHQUFBRixRQUFBLENBQUFHLGFBQUEsQ0FBQSxjQUFBLENBREE7QUFBQSxNQUVBQyxVQUFBLEdBQUFKLFFBQUEsQ0FBQUcsYUFBQSxDQUFBLG1CQUFBLENBRkE7QUFBQSxNQUdBRSxTQUFBLEdBQUFMLFFBQUEsQ0FBQUcsYUFBQSxDQUFBLGNBQUEsQ0FIQTtBQUFBLE1BSUFHLElBQUEsR0FBQU4sUUFBQSxDQUFBRyxhQUFBLENBQUEsT0FBQSxDQUpBLEMsQ0FLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBRCxTQUFBLENBQUFLLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtBQUNBQSxFQUFBQSxDQUFBLENBQUFDLGNBQUE7QUFDQVQsRUFBQUEsUUFBQSxDQUFBVSxJQUFBLENBQUFDLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLFFBQUE7QUFDQSxPQUFBRCxTQUFBLENBQUFDLE1BQUEsQ0FBQSxRQUFBO0FBQ0FSLEVBQUFBLFVBQUEsQ0FBQU8sU0FBQSxDQUFBQyxNQUFBLENBQUEsUUFBQTtBQUNBTixFQUFBQSxJQUFBLENBQUFLLFNBQUEsQ0FBQUMsTUFBQSxDQUFBLFFBQUE7QUFDQVAsRUFBQUEsU0FBQSxDQUFBTSxTQUFBLENBQUFDLE1BQUEsQ0FBQSxRQUFBO0FBQ0EsQ0FQQTtBQVFBUCxTQUFBLENBQUFFLGdCQUFBLENBQUEsT0FBQSxFQUFBLFlBQUE7QUFDQVAsRUFBQUEsUUFBQSxDQUFBVSxJQUFBLENBQUFDLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLFFBQUE7QUFDQSxPQUFBRixTQUFBLENBQUFFLE1BQUEsQ0FBQSxRQUFBO0FBQ0FULEVBQUFBLFVBQUEsQ0FBQU8sU0FBQSxDQUFBRSxNQUFBLENBQUEsUUFBQTtBQUNBWCxFQUFBQSxTQUFBLENBQUFTLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLFFBQUE7QUFDQVAsRUFBQUEsSUFBQSxDQUFBSyxTQUFBLENBQUFFLE1BQUEsQ0FBQSxRQUFBO0FBQ0EsQ0FOQTtBQU9BZCxPQUFBLENBQUFlLE9BQUEsQ0FBQUMsSUFBQSxJQUFBO0FBQ0EsTUFBQUMsSUFBQSxHQUFBRCxJQUFBLENBQUFFLFlBQUEsQ0FBQSxXQUFBLENBQUE7O0FBQ0EsTUFBQWpCLFFBQUEsQ0FBQVUsSUFBQSxDQUFBQyxTQUFBLENBQUFPLFFBQUEsQ0FBQUYsSUFBQSxDQUFBLEVBQUE7QUFDQUQsSUFBQUEsSUFBQSxDQUFBSixTQUFBLENBQUFRLEdBQUEsQ0FBQSxRQUFBO0FBQ0E7QUFDQSxDQUxBOztBQ2pDQSxJQUFBO0FBQ0EsUUFBQUMsU0FBQSxHQUFBLENBQUEsR0FBQXBCLFFBQUEsQ0FBQUMsZ0JBQUEsQ0FBQSxvQkFBQSxDQUFBLENBQUE7QUFDQW9CLEVBQUFBLFVBQUEsR0FBQSxDQUFBLEdBQUFyQixRQUFBLENBQUFDLGdCQUFBLENBQUEsOEJBQUEsQ0FBQSxDQUFBO0FBQ0FxQixFQUFBQSxVQUFBLEdBQUF0QixRQUFBLENBQUFHLGFBQUEsQ0FBQSxlQUFBLENBQUE7QUFDQW9CLEVBQUFBLE1BQUEsR0FBQXZCLFFBQUEsQ0FBQUcsYUFBQSxDQUFBLFNBQUEsQ0FBQTs7QUFFQSxPQUFBLElBQUFxQixDQUFBLEdBQUEsQ0FBQSxFQUFBQSxDQUFBLEdBQUFILFVBQUEsQ0FBQUksTUFBQSxFQUFBRCxDQUFBLEVBQUEsRUFBQTtBQUNBSCxJQUFBQSxVQUFBLENBQUFHLENBQUEsQ0FBQSxDQUFBRSxPQUFBLENBQUEsZ0JBQUEsRUFBQUMsS0FBQSxDQUFBQyxNQUFBLEdBQUEsS0FBQUosQ0FBQTtBQUNBSCxJQUFBQSxVQUFBLENBQUFHLENBQUEsQ0FBQSxDQUFBakIsZ0JBQUEsQ0FBQSxPQUFBLEVBQUEsVUFBQUMsQ0FBQSxFQUFBO0FBQ0FBLE1BQUFBLENBQUEsQ0FBQUMsY0FBQTtBQUNBb0IsTUFBQUEsWUFBQTtBQUNBLFdBQUFsQixTQUFBLENBQUFRLEdBQUEsQ0FBQSxRQUFBO0FBQ0FDLE1BQUFBLFNBQUEsQ0FBQUksQ0FBQSxDQUFBLENBQUFiLFNBQUEsQ0FBQVEsR0FBQSxDQUFBLFFBQUE7QUFDQSxLQUxBO0FBTUE7O0FBQ0EsV0FBQVUsWUFBQSxHQUFBO0FBQ0EsU0FBQSxJQUFBTCxDQUFBLEdBQUEsQ0FBQSxFQUFBQSxDQUFBLEdBQUFILFVBQUEsQ0FBQUksTUFBQSxFQUFBRCxDQUFBLEVBQUEsRUFBQTtBQUNBSCxNQUFBQSxVQUFBLENBQUFHLENBQUEsQ0FBQSxDQUFBYixTQUFBLENBQUFFLE1BQUEsQ0FBQSxRQUFBO0FBQ0FPLE1BQUFBLFNBQUEsQ0FBQUksQ0FBQSxDQUFBLENBQUFiLFNBQUEsQ0FBQUUsTUFBQSxDQUFBLFFBQUE7QUFDQTtBQUNBOztBQUVBUyxFQUFBQSxVQUFBLENBQUFmLGdCQUFBLENBQUEsT0FBQSxFQUFBLFVBQUFDLENBQUEsRUFBQTtBQUNBQSxJQUFBQSxDQUFBLENBQUFDLGNBQUE7QUFDQSxRQUFBcUIsTUFBQSxHQUFBVCxVQUFBLENBQUFVLFNBQUEsQ0FBQWhCLElBQUEsSUFBQUEsSUFBQSxDQUFBSixTQUFBLENBQUFPLFFBQUEsQ0FBQSxRQUFBLENBQUEsQ0FBQTtBQUNBWSxJQUFBQSxNQUFBOztBQUNBLFFBQUFBLE1BQUEsSUFBQVQsVUFBQSxDQUFBSSxNQUFBLEVBQUE7QUFDQUssTUFBQUEsTUFBQSxHQUFBLENBQUE7QUFDQTs7QUFDQUQsSUFBQUEsWUFBQTtBQUVBUixJQUFBQSxVQUFBLENBQUFTLE1BQUEsQ0FBQSxDQUFBbkIsU0FBQSxDQUFBUSxHQUFBLENBQUEsUUFBQTtBQUNBQyxJQUFBQSxTQUFBLENBQUFVLE1BQUEsQ0FBQSxDQUFBbkIsU0FBQSxDQUFBUSxHQUFBLENBQUEsUUFBQTtBQUNBLEdBWEE7QUFZQSxDQWxDQSxDQWtDQSxPQUFBYSxLQUFBLEVBQUEsQ0FFQTs7QUNwQ0EsSUFBQTtBQUNBLFFBQUFDLE1BQUEsQ0FBQTtBQUNBQyxJQUFBQSxXQUFBLENBQUFDLEdBQUEsRUFBQTtBQUNBLFdBQUFDLFVBQUEsR0FBQXBDLFFBQUEsQ0FBQUcsYUFBQSxDQUFBZ0MsR0FBQSxDQUFBQyxVQUFBLENBQUE7QUFDQSxXQUFBQyxNQUFBLEdBQUFyQyxRQUFBLENBQUFHLGFBQUEsQ0FBQWdDLEdBQUEsQ0FBQUUsTUFBQSxDQUFBO0FBQ0EsV0FBQUMsV0FBQSxHQUFBLEtBQUFELE1BQUEsQ0FBQWxDLGFBQUEsQ0FBQWdDLEdBQUEsQ0FBQUcsV0FBQSxDQUFBO0FBQ0EsV0FBQUMsTUFBQSxHQUFBLENBQUEsR0FBQSxLQUFBRCxXQUFBLENBQUFFLFFBQUEsQ0FBQTtBQUNBLFdBQUFDLElBQUEsR0FBQSxLQUFBSixNQUFBLENBQUFsQyxhQUFBLENBQUFnQyxHQUFBLENBQUFNLElBQUEsQ0FBQTtBQUNBLFdBQUFDLElBQUEsR0FBQSxLQUFBTCxNQUFBLENBQUFsQyxhQUFBLENBQUFnQyxHQUFBLENBQUFPLElBQUEsQ0FBQTtBQUVBLFdBQUFDLFdBQUEsR0FBQSxDQUFBO0FBRUEsV0FBQUMsS0FBQSxHQUFBLEtBQUFQLE1BQUEsQ0FBQVEsV0FBQTtBQUNBLFdBQUFDLE1BQUEsR0FBQSxLQUFBVCxNQUFBLENBQUFVLFlBQUE7QUFFQSxXQUFBQyxTQUFBLEdBQUFiLEdBQUEsQ0FBQWEsU0FBQSxDQUFBQyxXQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBO0FBQ0EsV0FBQUMsUUFBQSxHQUFBLEtBQUFGLFNBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQUosS0FBQSxHQUFBLEtBQUFFLE1BQUE7QUFFQSxXQUFBUixXQUFBLENBQUFYLEtBQUEsR0FBQTtBQUNBO0FBQ0EsMEJBQUEsS0FBQW1CLE1BQUE7QUFDQSxhQUhBOztBQUtBLFdBQUEsSUFBQXRCLENBQUEsR0FBQSxDQUFBLEVBQUFBLENBQUEsR0FBQSxLQUFBZSxNQUFBLENBQUFkLE1BQUEsRUFBQUQsQ0FBQSxFQUFBLEVBQUE7QUFDQSxhQUFBZSxNQUFBLENBQUFmLENBQUEsRUFBQUcsS0FBQSxHQUFBO0FBQ0E7QUFDQSw4QkFBQSxLQUFBbUIsTUFBQTtBQUNBLDZCQUFBLEtBQUFGLEtBQUE7QUFDQTtBQUNBLGlCQUxBOztBQVFBLFlBQUFwQixDQUFBLElBQUEsS0FBQW1CLFdBQUEsRUFBQTtBQUNBLGVBQUFKLE1BQUEsQ0FBQWYsQ0FBQSxFQUFBRyxLQUFBLENBQUF3QixTQUFBLEdBQUEsWUFBQSxLQUFBSCxTQUFBLElBQUEsS0FBQUUsUUFBQSxLQUFBO0FBQ0E7O0FBRUEsWUFBQTFCLENBQUEsS0FBQSxLQUFBZSxNQUFBLENBQUFkLE1BQUEsR0FBQSxDQUFBLEVBQUE7QUFDQSxlQUFBYyxNQUFBLENBQUFmLENBQUEsRUFBQUcsS0FBQSxDQUFBd0IsU0FBQSxHQUFBLFlBQUEsS0FBQUgsU0FBQSxJQUFBLENBQUEsS0FBQUUsUUFBQSxLQUFBO0FBQ0E7QUFDQTs7QUFFQSxXQUFBUixJQUFBLENBQUFuQyxnQkFBQSxDQUFBLE9BQUEsRUFBQSxNQUFBLEtBQUE2QyxJQUFBLENBQUEsS0FBQVYsSUFBQSxDQUFBO0FBQ0EsV0FBQUQsSUFBQSxDQUFBbEMsZ0JBQUEsQ0FBQSxPQUFBLEVBQUEsTUFBQSxLQUFBNkMsSUFBQSxDQUFBLEtBQUFYLElBQUEsQ0FBQTtBQUNBOztBQUVBVyxJQUFBQSxJQUFBLENBQUFDLEdBQUEsRUFBQTtBQUVBLFVBQUFDLFVBQUEsR0FBQUQsR0FBQSxJQUFBLEtBQUFaLElBQUEsR0FBQSxLQUFBUyxRQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsS0FBQUEsUUFBQTtBQUVBLFdBQUFYLE1BQUEsQ0FBQXpCLE9BQUEsQ0FBQSxDQUFBeUMsS0FBQSxFQUFBL0IsQ0FBQSxLQUFBO0FBQ0ErQixRQUFBQSxLQUFBLENBQUE1QixLQUFBLENBQUE2QixVQUFBLEdBQUEsS0FBQTs7QUFDQSxZQUFBaEMsQ0FBQSxJQUFBLEtBQUFtQixXQUFBLEVBQUE7QUFDQVksVUFBQUEsS0FBQSxDQUFBNUIsS0FBQSxDQUFBd0IsU0FBQSxHQUFBLFlBQUEsS0FBQUgsU0FBQSxJQUFBTSxVQUFBLEdBQUEsQ0FBQSxDQUFBLEtBQUE7QUFDQTtBQUNBLE9BTEE7QUFPQSxXQUFBZixNQUFBLENBQUEsS0FBQUksV0FBQSxFQUFBaEIsS0FBQSxDQUFBd0IsU0FBQSxHQUFBLFlBQUEsS0FBQUgsU0FBQSxJQUFBTSxVQUFBLEtBQUE7QUFDQSxXQUFBZixNQUFBLENBQUEsS0FBQUksV0FBQSxFQUFBaEIsS0FBQSxDQUFBNkIsVUFBQSxHQUFBLFFBQUE7O0FBR0EsVUFBQUgsR0FBQSxJQUFBLEtBQUFaLElBQUEsRUFBQTtBQUNBLGFBQUFFLFdBQUE7O0FBRUEsWUFBQSxLQUFBQSxXQUFBLElBQUEsS0FBQUosTUFBQSxDQUFBZCxNQUFBLEVBQUE7QUFDQSxlQUFBa0IsV0FBQSxHQUFBLENBQUE7QUFDQTtBQUNBLE9BTkEsTUFNQSxJQUFBVSxHQUFBLElBQUEsS0FBQVgsSUFBQSxFQUFBO0FBQ0EsYUFBQUMsV0FBQTs7QUFDQSxZQUFBLEtBQUFBLFdBQUEsR0FBQSxDQUFBLEVBQUE7QUFDQSxlQUFBQSxXQUFBLEdBQUEsS0FBQUosTUFBQSxDQUFBZCxNQUFBLEdBQUEsQ0FBQTtBQUNBO0FBQ0E7O0FBRUEsV0FBQWMsTUFBQSxDQUFBLEtBQUFJLFdBQUEsRUFBQWhCLEtBQUEsQ0FBQXdCLFNBQUEsR0FBQSxZQUFBLEtBQUFILFNBQUEsT0FBQTtBQUNBLFdBQUFULE1BQUEsQ0FBQSxLQUFBSSxXQUFBLEVBQUFoQixLQUFBLENBQUE2QixVQUFBLEdBQUEsUUFBQTtBQUNBOztBQTFFQTs7QUE4RUEsUUFBQW5CLE1BQUEsR0FBQSxJQUFBSixNQUFBLENBQUE7QUFDQUksSUFBQUEsTUFBQSxFQUFBLFNBREE7QUFFQUQsSUFBQUEsVUFBQSxFQUFBLGVBRkE7QUFHQUUsSUFBQUEsV0FBQSxFQUFBLGdCQUhBO0FBSUFHLElBQUFBLElBQUEsRUFBQSxlQUpBO0FBS0FDLElBQUFBLElBQUEsRUFBQSxlQUxBO0FBTUFNLElBQUFBLFNBQUEsRUFBQTtBQU5BLEdBQUEsQ0FBQTtBQVFBLENBdkZBLENBdUZBLE9BQUFoQixLQUFBLEVBQUEsQ0FFQSIsImZpbGUiOiJhbGwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbmF2TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oZWFkZXJfX25hdi1saW5rJyksXHJcbmhlYWRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J0bicpLFxyXG5oZWFkZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2LWxpc3QnKSxcclxuaGVhZGVyQWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYWJzJyksXHJcbmJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFycycpXHJcbi8vIGZvcihsZXQgaSA9IDA7IGkgPCBuYXZMaW5rLmxlbmd0aDsgaSsrKXtcclxuLy8gICAgIG5hdkxpbmtbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4vLyAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbi8vICAgICAgICAgbGV0IHBhZ2UgPSBuYXZMaW5rW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJylcclxuLy8gICAgICAgICBmb3IobGV0IGogPSAwOyBqPCBuYXZMaW5rLmxlbmd0aDsgaisrKXtcclxuLy8gICAgICAgICAgICAgbmF2TGlua1tqXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgICBuYXZMaW5rW2ldLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbi8vICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2hyZWRmJylcclxuICAgICAgIFxyXG4vLyAgICAgfSlcclxuLy8gfVxyXG5cclxuaGVhZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICAgIGhlYWRlckxpc3QuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICBiYXJzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgaGVhZGVyQWJzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG59KVxyXG5oZWFkZXJBYnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIGhlYWRlckxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICBoZWFkZXJCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICBiYXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG59KVxyXG5uYXZMaW5rLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBsZXQgcGFnZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UnKVxyXG4gICAgaWYoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMocGFnZSkpe1xyXG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgIH1cclxufSlcclxuIiwidHJ5IHtcclxuICAgIGNvbnN0IHJlY2VudEltZyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVjZW50X19sZWZ0LWl0ZW0nKV1cclxuICAgICByZWNlbnRDdWJlID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZWNlbnRfX3BlcnMtY3ViZTpub3QoLmxhc3QnKV1cclxuICAgICByZWNlbnROZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlY2VudF9fbmV4dCcpXHJcbiAgICAgcmVjZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlY2VudCcpO1xyXG4gICAgIFxyXG4gICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjZW50Q3ViZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICByZWNlbnRDdWJlW2ldLmNsb3Nlc3QoJy5yZWNlbnRfX3BlcnMgJykuc3R5bGUuekluZGV4ID0gMjAtIGk7XHJcbiAgICAgICAgIHJlY2VudEN1YmVbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgcmVtb3ZlQWN0aXZlKClcclxuICAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgICAgIHJlY2VudEltZ1tpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICB9KVxyXG4gICAgIH1cclxuICAgICBmdW5jdGlvbiByZW1vdmVBY3RpdmUoKSB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJlY2VudEN1YmUubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICByZWNlbnRDdWJlW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgIHJlY2VudEltZ1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgIH1cclxuICAgICB9XHJcbiAgICAgXHJcbiAgICAgcmVjZW50TmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgbGV0IGFjdGl2ZSA9IHJlY2VudEN1YmUuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKTtcclxuICAgICAgICAgYWN0aXZlKytcclxuICAgICAgICAgaWYoYWN0aXZlID09IHJlY2VudEN1YmUubGVuZ3RoKXtcclxuICAgICAgICAgICAgIGFjdGl2ZSA9IDA7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgcmVtb3ZlQWN0aXZlKClcclxuICAgICAgICAgXHJcbiAgICAgICAgIHJlY2VudEN1YmVbYWN0aXZlXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgICByZWNlbnRJbWdbYWN0aXZlXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgIH0pXHJcbn0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBcclxufSIsInRyeSB7XHJcbiAgICBjbGFzcyBTbGlkZXIge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlck1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9iai5zbGlkZXJNYWluKVxyXG4gICAgICAgICAgICB0aGlzLnNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2JqLnNsaWRlcik7XHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVySXRlbXMgPSB0aGlzLnNsaWRlci5xdWVyeVNlbGVjdG9yKG9iai5zbGlkZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzID0gWy4uLnRoaXMuc2xpZGVySXRlbXMuY2hpbGRyZW5dO1xyXG4gICAgICAgICAgICB0aGlzLm5leHQgPSB0aGlzLnNsaWRlci5xdWVyeVNlbGVjdG9yKG9iai5uZXh0KTtcclxuICAgICAgICAgICAgdGhpcy5wcmV2ID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcihvYmoucHJldik7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTbGlkZSA9IDA7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc2xpZGVyLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc2xpZGVyLmNsaWVudEhlaWdodDtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IG9iai5kaXJlY3Rpb24udG9VcHBlckNhc2UoKSA9PSAnWCcgPyAnWCcgOiAnWSc7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVNpemUgPSB0aGlzLmRpcmVjdGlvbiA9PSAnWCcgPyB0aGlzLndpZHRoIDogdGhpcy5oZWlnaHQ7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXJJdGVtcy5zdHlsZSA9IGBcclxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICR7dGhpcy5oZWlnaHR9cHg7XHJcbiAgICAgICAgICAgIGBcclxuICAgIFxyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zbGlkZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW2ldLnN0eWxlID0gYFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICR7dGhpcy5oZWlnaHR9cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICR7dGhpcy53aWR0aH1weDtcclxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYFxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmKGkgIT0gdGhpcy5hY3RpdmVTbGlkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUke3RoaXMuZGlyZWN0aW9ufSgke3RoaXMubW92ZVNpemV9cHgpYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoaSA9PT0gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVzW2ldLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUke3RoaXMuZGlyZWN0aW9ufSgkey10aGlzLm1vdmVTaXplfXB4KWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLm1vdmUodGhpcy5wcmV2KSlcclxuICAgICAgICAgICAgdGhpcy5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5tb3ZlKHRoaXMubmV4dCkpXHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgbW92ZShidG4pIHtcclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgcHJldk9yTmV4dCA9IGJ0biA9PSB0aGlzLm5leHQgPyB0aGlzLm1vdmVTaXplICogLTEgOiB0aGlzLm1vdmVTaXplO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzLmZvckVhY2goKHNsaWRlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2l0aW9uID0gJzBtcyc7XHJcbiAgICAgICAgICAgICAgICBpZihpICE9IHRoaXMuYWN0aXZlU2xpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlJHt0aGlzLmRpcmVjdGlvbn0oJHtwcmV2T3JOZXh0ICogLTF9cHgpYDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZVNsaWRlXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlJHt0aGlzLmRpcmVjdGlvbn0oJHtwcmV2T3JOZXh0fXB4KWA7XHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlU2xpZGVdLnN0eWxlLnRyYW5zaXRpb24gPSAnMTAwMG1zJztcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmKGJ0biA9PSB0aGlzLm5leHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2xpZGUrK1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYWN0aXZlU2xpZGUgPj0gdGhpcy5zbGlkZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTbGlkZSA9IDBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYoYnRuID09IHRoaXMucHJldikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVTbGlkZS0tXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmFjdGl2ZVNsaWRlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2xpZGUgPSB0aGlzLnNsaWRlcy5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZVNsaWRlXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlJHt0aGlzLmRpcmVjdGlvbn0oMHB4KWA7XHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVzW3RoaXMuYWN0aXZlU2xpZGVdLnN0eWxlLnRyYW5zaXRpb24gPSAnMTAwMG1zJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgY29uc3Qgc2xpZGVyID0gbmV3IFNsaWRlcih7XHJcbiAgICAgICAgc2xpZGVyOiAnLnNsaWRlcicsXHJcbiAgICAgICAgc2xpZGVyTWFpbjogJy5zbGlkZXJfX21haW4nLFxyXG4gICAgICAgIHNsaWRlckl0ZW1zOiAnLnNsaWRlcl9faXRlbXMnLFxyXG4gICAgICAgIG5leHQ6ICcuc2xpZGVyX19uZXh0JyxcclxuICAgICAgICBwcmV2OiAnLnNsaWRlcl9fcHJldicsXHJcbiAgICAgICAgZGlyZWN0aW9uOiAnWCdcclxuICAgIH0pXHJcbn0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBcclxufSJdfQ==
