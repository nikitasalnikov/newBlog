const navLink = document.querySelectorAll('.header__nav-link'),
      headerBtn = document.querySelector('.header__btn'),
      headerList = document.querySelector('.header__nav-list'),
      headerAbs = document.querySelector('.header__abs'),
      bars = document.querySelector('.bars'); // for(let i = 0; i < navLink.length; i++){
//     navLink[i].addEventListener('click', (e) => {
//        e.preventDefault()
//         let page = navLink[i].getAttribute('data-page')
//         for(let j = 0; j< navLink.length; j++){
//             navLink[j].classList.remove('active')
//         }
//         navLink[i].classList.add('active')
//         window.location.href = e.target.getAttribute('hredf')
//     })
// }

headerBtn.addEventListener('click', function (e) {
  e.preventDefault();
  document.body.classList.toggle('hidden');
  this.classList.toggle('active');
  headerList.classList.toggle('active');
  bars.classList.toggle('active');
  headerAbs.classList.toggle('active');
});
headerAbs.addEventListener('click', function () {
  document.body.classList.remove('hidden');
  this.classList.remove('active');
  headerList.classList.remove('active');
  headerBtn.classList.toggle('active');
});
navLink.forEach(item => {
  let page = item.getAttribute('data-page');

  if (document.body.classList.contains(page)) {
    item.classList.add('active');
  }
});

try {
  const recentImg = [...document.querySelectorAll('.recent__left-item')];
  recentCube = [...document.querySelectorAll('.recent__pers-cube:not(.last')];
  recentNext = document.querySelector('.recent__next');
  recent = document.querySelector('.recent');

  for (let i = 0; i < recentCube.length; i++) {
    recentCube[i].closest('.recent__pers ').style.zIndex = 20 - i;
    recentCube[i].addEventListener('click', function (e) {
      e.preventDefault();
      removeActive();
      this.classList.add('active');
      recentImg[i].classList.add('active');
    });
  }

  function removeActive() {
    for (let i = 0; i < recentCube.length; i++) {
      recentCube[i].classList.remove('active');
      recentImg[i].classList.remove('active');
    }
  }

  recentNext.addEventListener('click', function (e) {
    e.preventDefault();
    let active = recentCube.findIndex(item => item.classList.contains('active'));
    active++;

    if (active == recentCube.length) {
      active = 0;
    }

    removeActive();
    recentCube[active].classList.add('active');
    recentImg[active].classList.add('active');
  });
} catch (error) {}

try {
  class Slider {
    constructor(obj) {
      this.sliderMain = document.querySelector(obj.sliderMain);
      this.slider = document.querySelector(obj.slider);
      this.sliderItems = this.slider.querySelector(obj.sliderItems);
      this.slides = [...this.sliderItems.children];
      this.next = this.slider.querySelector(obj.next);
      this.prev = this.slider.querySelector(obj.prev);
      this.activeSlide = 0;
      this.width = this.slider.clientWidth;
      this.height = this.slider.clientHeight;
      this.direction = obj.direction.toUpperCase() == 'X' ? 'X' : 'Y';
      this.moveSize = this.direction == 'X' ? this.width : this.height;
      this.sliderItems.style = `
                overflow: hidden;
                height: ${this.height}px;
            `;

      for (let i = 0; i < this.slides.length; i++) {
        this.slides[i].style = `
                    position: absolute;
                    height: ${this.height}px;
                    width: ${this.width}px;
                    overflow: hidden;
                `;

        if (i != this.activeSlide) {
          this.slides[i].style.transform = `translate${this.direction}(${this.moveSize}px)`;
        }

        if (i === this.slides.length - 1) {
          this.slides[i].style.transform = `translate${this.direction}(${-this.moveSize}px)`;
        }
      }

      this.prev.addEventListener('click', () => this.move(this.prev));
      this.next.addEventListener('click', () => this.move(this.next));
    }

    move(btn) {
      let prevOrNext = btn == this.next ? this.moveSize * -1 : this.moveSize;
      this.slides.forEach((slide, i) => {
        slide.style.transition = '0ms';

        if (i != this.activeSlide) {
          slide.style.transform = `translate${this.direction}(${prevOrNext * -1}px)`;
        }
      });
      this.slides[this.activeSlide].style.transform = `translate${this.direction}(${prevOrNext}px)`;
      this.slides[this.activeSlide].style.transition = '1000ms';

      if (btn == this.next) {
        this.activeSlide++;

        if (this.activeSlide >= this.slides.length) {
          this.activeSlide = 0;
        }
      } else if (btn == this.prev) {
        this.activeSlide--;

        if (this.activeSlide < 0) {
          this.activeSlide = this.slides.length - 1;
        }
      }

      this.slides[this.activeSlide].style.transform = `translate${this.direction}(0px)`;
      this.slides[this.activeSlide].style.transition = '1000ms';
    }

  }

  const slider = new Slider({
    slider: '.slider',
    sliderMain: '.slider__main',
    sliderItems: '.slider__items',
    next: '.slider__next',
    prev: '.slider__prev',
    direction: 'X'
  });
} catch (error) {}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5hdi5qcyIsInJlY2VudC5qcyIsInNsaWRlci5qcyJdLCJuYW1lcyI6WyJuYXZMaW5rIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGVhZGVyQnRuIiwicXVlcnlTZWxlY3RvciIsImhlYWRlckxpc3QiLCJoZWFkZXJBYnMiLCJiYXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImJvZHkiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJmb3JFYWNoIiwiaXRlbSIsInBhZ2UiLCJnZXRBdHRyaWJ1dGUiLCJjb250YWlucyIsImFkZCIsInJlY2VudEltZyIsInJlY2VudEN1YmUiLCJyZWNlbnROZXh0IiwicmVjZW50IiwiaSIsImxlbmd0aCIsImNsb3Nlc3QiLCJzdHlsZSIsInpJbmRleCIsInJlbW92ZUFjdGl2ZSIsImFjdGl2ZSIsImZpbmRJbmRleCIsImVycm9yIiwiU2xpZGVyIiwiY29uc3RydWN0b3IiLCJvYmoiLCJzbGlkZXJNYWluIiwic2xpZGVyIiwic2xpZGVySXRlbXMiLCJzbGlkZXMiLCJjaGlsZHJlbiIsIm5leHQiLCJwcmV2IiwiYWN0aXZlU2xpZGUiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZGlyZWN0aW9uIiwidG9VcHBlckNhc2UiLCJtb3ZlU2l6ZSIsInRyYW5zZm9ybSIsIm1vdmUiLCJidG4iLCJwcmV2T3JOZXh0Iiwic2xpZGUiLCJ0cmFuc2l0aW9uIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBQSxPQUFBLEdBQUFDLFFBQUEsQ0FBQUMsZ0JBQUEsQ0FBQSxtQkFBQSxDQUFBO0FBQUEsTUFDQUMsU0FBQSxHQUFBRixRQUFBLENBQUFHLGFBQUEsQ0FBQSxjQUFBLENBREE7QUFBQSxNQUVBQyxVQUFBLEdBQUFKLFFBQUEsQ0FBQUcsYUFBQSxDQUFBLG1CQUFBLENBRkE7QUFBQSxNQUdBRSxTQUFBLEdBQUFMLFFBQUEsQ0FBQUcsYUFBQSxD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QUFrQixXQUFBLEdBQUEsQ0FBQTtBQUNBO0FBQ0EsT0FOQSxNQU1BLElBQUFVLEdBQUEsSUFBQSxLQUFBWCxJQUFBLEVBQUE7QUFDQSxhQUFBQyxXQUFBOztBQUNBLFlBQUEsS0FBQUEsV0FBQSxHQUFBLENBQUEsRUFBQTtBQUNBLGVBQUFBLFdBQUEsR0FBQSxLQUFBSixNQUFBLENBQUFkLE1BQUEsR0FBQSxDQUFBO0FBQ0E7QUFDQTs7QUFFQSxXQUFBYyxNQUFBLENBQUEsS0FBQUksV0FBQSxFQUFBaEIsS0FBQSxDQUFBd0IsU0FBQSxHQUFBLFlBQUEsS0FBQUgsU0FBQSxPQUFBO0FBQ0EsV0FBQVQsTUFBQSxDQUFBLEtBQUFJLFdBQUEsRUFBQWhCLEtBQUEsQ0FBQTZCLFVBQUEsR0FBQSxRQUFBO0FBQ0E7O0FBMUVBOztBQThFQSxRQUFBbkIsTUFBQSxHQUFBLElBQUFKLE1BQUEsQ0FBQTtBQUNBSSxJQUFBQSxNQUFBLEVBQUEsU0FEQTtBQUVBRCxJQUFBQSxVQUFBLEVBQUEsZUFGQTtBQUdBRSxJQUFBQSxXQUFBLEVBQUEsZ0JBSEE7QUFJQUcsSUFBQUEsSUFBQSxFQUFBLGVBSkE7QUFLQUMsSUFBQUEsSUFBQSxFQUFBLGVBTEE7QUFNQU0sSUFBQUEsU0FBQSxFQUFBO0FBTkEsR0FBQSxDQUFBO0FBUUEsQ0F2RkEsQ0F1RkEsT0FBQWhCLEtBQUEsRUFBQSxDQUVBIiwiZmlsZSI6ImFsbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBuYXZMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhlYWRlcl9fbmF2LWxpbmsnKSxcclxuaGVhZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnRuJyksXHJcbmhlYWRlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19uYXYtbGlzdCcpLFxyXG5oZWFkZXJBYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19hYnMnKSxcclxuYmFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYXJzJylcclxuLy8gZm9yKGxldCBpID0gMDsgaSA8IG5hdkxpbmsubGVuZ3RoOyBpKyspe1xyXG4vLyAgICAgbmF2TGlua1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbi8vICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuLy8gICAgICAgICBsZXQgcGFnZSA9IG5hdkxpbmtbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UnKVxyXG4vLyAgICAgICAgIGZvcihsZXQgaiA9IDA7IGo8IG5hdkxpbmsubGVuZ3RoOyBqKyspe1xyXG4vLyAgICAgICAgICAgICBuYXZMaW5rW2pdLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIG5hdkxpbmtbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuLy8gICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZGYnKVxyXG4gICAgICAgXHJcbi8vICAgICB9KVxyXG4vLyB9XHJcblxyXG5oZWFkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgaGVhZGVyTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICAgIGJhcnMuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICBoZWFkZXJBYnMuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbn0pXHJcbmhlYWRlckFicy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgaGVhZGVyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgIGhlYWRlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxufSlcclxubmF2TGluay5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgbGV0IHBhZ2UgPSBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlJylcclxuICAgIGlmKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKHBhZ2UpKXtcclxuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICB9XHJcbn0pXHJcbiIsInRyeSB7XHJcbiAgICBjb25zdCByZWNlbnRJbWcgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlY2VudF9fbGVmdC1pdGVtJyldXHJcbiAgICAgcmVjZW50Q3ViZSA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVjZW50X19wZXJzLWN1YmU6bm90KC5sYXN0JyldXHJcbiAgICAgcmVjZW50TmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNlbnRfX25leHQnKVxyXG4gICAgIHJlY2VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNlbnQnKTtcclxuICAgICBcclxuICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY2VudEN1YmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgcmVjZW50Q3ViZVtpXS5jbG9zZXN0KCcucmVjZW50X19wZXJzICcpLnN0eWxlLnpJbmRleCA9IDIwLSBpO1xyXG4gICAgICAgICByZWNlbnRDdWJlW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgIHJlbW92ZUFjdGl2ZSgpXHJcbiAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICByZWNlbnRJbWdbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgfSlcclxuICAgICB9XHJcbiAgICAgZnVuY3Rpb24gcmVtb3ZlQWN0aXZlKCkge1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCByZWNlbnRDdWJlLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgcmVjZW50Q3ViZVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICByZWNlbnRJbWdbaV0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICB9XHJcbiAgICAgfVxyXG4gICAgIFxyXG4gICAgIHJlY2VudE5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgIGxldCBhY3RpdmUgPSByZWNlbnRDdWJlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSk7XHJcbiAgICAgICAgIGFjdGl2ZSsrXHJcbiAgICAgICAgIGlmKGFjdGl2ZSA9PSByZWNlbnRDdWJlLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICBhY3RpdmUgPSAwO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHJlbW92ZUFjdGl2ZSgpXHJcbiAgICAgICAgIFxyXG4gICAgICAgICByZWNlbnRDdWJlW2FjdGl2ZV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICAgICAgcmVjZW50SW1nW2FjdGl2ZV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJylcclxuICAgICB9KVxyXG59IGNhdGNoIChlcnJvcikge1xyXG4gICAgXHJcbn0iLCJ0cnkge1xyXG4gICAgY2xhc3MgU2xpZGVyIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcihvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXJNYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvYmouc2xpZGVyTWFpbilcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9iai5zbGlkZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlckl0ZW1zID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcihvYmouc2xpZGVySXRlbXMpO1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlcyA9IFsuLi50aGlzLnNsaWRlckl0ZW1zLmNoaWxkcmVuXTtcclxuICAgICAgICAgICAgdGhpcy5uZXh0ID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcihvYmoubmV4dCk7XHJcbiAgICAgICAgICAgIHRoaXMucHJldiA9IHRoaXMuc2xpZGVyLnF1ZXJ5U2VsZWN0b3Iob2JqLnByZXYpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlU2xpZGUgPSAwO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnNsaWRlci5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnNsaWRlci5jbGllbnRIZWlnaHQ7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBvYmouZGlyZWN0aW9uLnRvVXBwZXJDYXNlKCkgPT0gJ1gnID8gJ1gnIDogJ1knO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVTaXplID0gdGhpcy5kaXJlY3Rpb24gPT0gJ1gnID8gdGhpcy53aWR0aCA6IHRoaXMuaGVpZ2h0O1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMuc2xpZGVySXRlbXMuc3R5bGUgPSBgXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAke3RoaXMuaGVpZ2h0fXB4O1xyXG4gICAgICAgICAgICBgXHJcbiAgICBcclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc2xpZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1tpXS5zdHlsZSA9IGBcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAke3RoaXMuaGVpZ2h0fXB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAke3RoaXMud2lkdGh9cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGBcclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZihpICE9IHRoaXMuYWN0aXZlU2xpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1tpXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlJHt0aGlzLmRpcmVjdGlvbn0oJHt0aGlzLm1vdmVTaXplfXB4KWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmKGkgPT09IHRoaXMuc2xpZGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlc1tpXS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlJHt0aGlzLmRpcmVjdGlvbn0oJHstdGhpcy5tb3ZlU2l6ZX1weClgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5tb3ZlKHRoaXMucHJldikpXHJcbiAgICAgICAgICAgIHRoaXMubmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubW92ZSh0aGlzLm5leHQpKVxyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIG1vdmUoYnRuKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IHByZXZPck5leHQgPSBidG4gPT0gdGhpcy5uZXh0ID8gdGhpcy5tb3ZlU2l6ZSAqIC0xIDogdGhpcy5tb3ZlU2l6ZTtcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnNsaWRlcy5mb3JFYWNoKChzbGlkZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2xpZGUuc3R5bGUudHJhbnNpdGlvbiA9ICcwbXMnO1xyXG4gICAgICAgICAgICAgICAgaWYoaSAhPSB0aGlzLmFjdGl2ZVNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSR7dGhpcy5kaXJlY3Rpb259KCR7cHJldk9yTmV4dCAqIC0xfXB4KWA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5hY3RpdmVTbGlkZV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSR7dGhpcy5kaXJlY3Rpb259KCR7cHJldk9yTmV4dH1weClgO1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZVNsaWRlXS5zdHlsZS50cmFuc2l0aW9uID0gJzEwMDBtcyc7XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICBpZihidG4gPT0gdGhpcy5uZXh0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNsaWRlKytcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmFjdGl2ZVNsaWRlID49IHRoaXMuc2xpZGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2xpZGUgPSAwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGJ0biA9PSB0aGlzLnByZXYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlU2xpZGUtLVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5hY3RpdmVTbGlkZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNsaWRlID0gdGhpcy5zbGlkZXMubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5zbGlkZXNbdGhpcy5hY3RpdmVTbGlkZV0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSR7dGhpcy5kaXJlY3Rpb259KDBweClgO1xyXG4gICAgICAgICAgICB0aGlzLnNsaWRlc1t0aGlzLmFjdGl2ZVNsaWRlXS5zdHlsZS50cmFuc2l0aW9uID0gJzEwMDBtcyc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIGNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoe1xyXG4gICAgICAgIHNsaWRlcjogJy5zbGlkZXInLFxyXG4gICAgICAgIHNsaWRlck1haW46ICcuc2xpZGVyX19tYWluJyxcclxuICAgICAgICBzbGlkZXJJdGVtczogJy5zbGlkZXJfX2l0ZW1zJyxcclxuICAgICAgICBuZXh0OiAnLnNsaWRlcl9fbmV4dCcsXHJcbiAgICAgICAgcHJldjogJy5zbGlkZXJfX3ByZXYnLFxyXG4gICAgICAgIGRpcmVjdGlvbjogJ1gnXHJcbiAgICB9KVxyXG59IGNhdGNoIChlcnJvcikge1xyXG4gICAgXHJcbn0iXX0=
